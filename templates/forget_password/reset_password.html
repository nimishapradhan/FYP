{% extends "main/base.html" %}
{% load static %}
{% block title %} Change Password {% endblock %}
{% block content %}
<div class="container">
    <div class="row justify-content-center align-items-center" style="min-height: 50vh;">
        <!-- Forget Password Form Container -->
        <div class="col-md-6">
            <div class="forget-password-container">
                {% if otp_verified %}
                <p style="color: rgb(49, 168, 79)">
                    OTP verified successfully. You can reset your password now.
                </p>
                {% endif %}
                <h2 class="text-center">Change Password</h2>

                <form class="forget-password-form" action="{% url 'reset_password' %}" method="post" onsubmit="return checkPW();">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="new-password">New Password:</label>
                        <input class="form-control" type="password" id="new-password" name="new-password" required
                            style="border: 1px solid #88b4ab; background-color: #fff; color: #333; margin-bottom: 2rem;" />
                    </div>
                    <div class="form-group">
                        <label for="confirm-password">Confirm Password:</label>
                        <input class="form-control" type="password" id="confirm-password" name="confirm-password"
                            required style="border: 1px solid #88b4ab; background-color: #fff; color: #333" />
                    </div>
                    <br>
                    <div class="text-center">
                        <button type="submit" class="btn btn-success" style="
                                background-color: #4CAF50;
                                color: white;
                                padding: 10px 15px;
                                border: none;
                                border-radius: 4px;
                                cursor: pointer;
                                font-size: 16px;
                            ">
                            Change password
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    function checkPW(){
        let newPass = document.getElementById('new-password').value;
        let confPass = document.getElementById('confirm-password').value;

        if (newPass !== confPass){
            alert('Password did not match.')
            return false
        }

        return true
    }
</script>
{% endblock %}