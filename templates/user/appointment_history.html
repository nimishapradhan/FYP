{% extends 'main/dashboard.html' %}
{% load static %}
{% block content %}

<main class="content px-3 py-2">
    <!-- Table Element -->
    <div class="card border-0">
        <div class="container py-5">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div class="fs-4">My Appointment History</div>
                <!-- Add appointment button with link to the booking page -->
                <a href="{% url 'appointment_booking' %}" class="text-decoration-none">
                    <button type="button" class="book-appointment-btn btn btn-green">Book
                        appointment</button>
                </a>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Doctor / Vet</th>
                        <th>Appointment Type</th>
                        <th>Total Cost</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for app in appointment %}
                    <tr>
                        <td>{{ app.date }}</td>
                        <td>{{ app.time }}</td>
                        <td>{{ app.doctor.user.first_name }} {{ app.doctor.user.last_name }}</td>
                        <td>{{ app.service.title }}</td>
                        <td>NPR. {{ app.service.price }}</td>
                        <td>
                            <a href=""
                                class="btn btn-primary" title="Edit appointment"
                                data-appointment-id="">
                                <i class="fa-solid fa-edit"></i>
                            </a>
                            <a href=""
                                class="btn btn-danger delete-appointment" title="Delete appointment"
                                data-appointment-id="">
                                <i class="fa-solid fa-trash"></i>
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
</main>

{% endblock %}